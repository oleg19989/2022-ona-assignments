"0","#setting up the variables and tables"
"0","library(igraph)"
"0","library(tidygraph)"
"0","library(ggraph)"
"0","#creating a dataset with distinct information about only people from workgroups of our interest (in this case, 163 and 172) using both ego and alter nodes"
"0","distinct_groups = distinct(subset(applications, select=c(examiner_art_unit, examiner_id)))"
"0","distinct_groups$wg = substr(distinct_groups$examiner_art_unit, 1,3)"
"0","distinct_groups = distinct_groups[distinct_groups$wg==163 | distinct_groups$wg==172,]"
"0","merged = merge(x=edges, y=distinct_groups, by.x=""ego_examiner_id"", by.y=""examiner_id"", all.x=TRUE)"
"0","merged = merged %>% rename(ego_art_unit=examiner_art_unit, ego_wg=wg)"
"0","merged = drop_na(merged)"
"0","merged = merge(x=merged, y=distinct_groups, by.x=""alter_examiner_id"", by.y=""examiner_id"", all.x=TRUE)"
"0","merged = merged %>% rename(alter_art_unit=examiner_art_unit, alter_wg=wg)"
"0","merged = drop_na(merged)"
"0","#finalizing the nodes table"
"0","New_nodes = subset(merged, select=c(ego_examiner_id,ego_art_unit, ego_wg)) %>% rename(examiner_id=ego_examiner_id,art_unit=ego_art_unit,wg=ego_wg)"
"0","alterNodes = subset(merged, select=c(alter_examiner_id,alter_art_unit, alter_wg))%>% rename(examiner_id=alter_examiner_id,art_unit=alter_art_unit,wg=alter_wg)"
"0","nodes = rbind(New_nodes, alterNodes)"
"0","nodes = distinct(nodes)"
"0","nodes = nodes %>% group_by(examiner_id) %>% summarise(examiner_id=first(examiner_id), art_unit=first(art_unit), wg=first(wg))"
"0",""
